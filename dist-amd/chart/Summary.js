(function(e,t){typeof define=="function"&&define.amd?define(["d3","../common/HTMLWidget","../api/I2DChart","css!font-awesome","css!./Summary"],t):e.chart_Summary=t(e.d3,e.common_HTMLWidget,e.api_I2DChart)})(this,function(e,t,n){function r(){t.call(this),this._tag="div",this._drawStartPos="center",this.playInterval(this.playInterval()),this._playIntervalIdx=0}r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.implements(n.prototype),r.prototype._class+=" chart_Summary",r.prototype.publish("colorFill","#3498db","html-color","Fill Color",null),r.prototype.publish("colorStroke","#ffffff","html-color","Fill Color",null),r.prototype.publish("valueIcon","fa-briefcase","string","FA Char icon class"),r.prototype.publish("moreText","More Info","string","More text"),r.prototype.publish("moreIcon","fa-info-circle","string","FA Char icon class"),r.prototype.publish("fixedSize",!0,"boolean","Fix Size to Min Width/Height"),r.prototype.publish("minWidth",225,"number","Minimum Width"),r.prototype.publish("minHeight",150,"number","Minimum Height"),r.prototype.publish("playInterval",null,"number","Play Interval",null,{optional:!0});var i=r.prototype.playInterval;return r.prototype.playInterval=function(e){var t=i.apply(this,arguments);if(arguments.length){this._playIntervalHandle&&clearInterval(this._playIntervalHandle);var n=this;e&&(this._playIntervalHandle=setInterval(function(){n._playIntervalIdx++,n._renderCount&&n.data().length&&n.render()},e))}return t},r.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments),this._mainDiv=n.append("div");var r=this;this._headerDiv=this._mainDiv.append("h2").on("click",function(e){r.click(r.data()[r._playIntervalIdx],r.columns()[1],!0)}),this._textDiv=this._mainDiv.append("div").attr("class","text").on("click",function(e){r.click(r.data()[r._playIntervalIdx],r.columns()[1],!0)})},r.prototype.update=function(n,r){t.prototype.update.apply(this,arguments),this.data().length;var i=this.formattedData();this._playIntervalIdx>=i.length&&(this._playIntervalIdx=0);var s=this._playIntervalIdx<i.length?i[this._playIntervalIdx]:["",""];r.style({width:this.fixedSize()?this.minWidth_exists()?this.minWidth()+"px":null:"100%",height:this.fixedSize()?this.minHeight_exists()?this.minHeight()+"px":null:"100%"}),this._mainDiv.attr("class","content bgIcon "+this.valueIcon()).style({"background-color":this.colorFill(),color:this.colorStroke(),"min-width":this.minWidth_exists()?this.minWidth()+"px":null,"min-height":this.minHeight_exists()?this.minHeight()+"px":null}),this._headerDiv.style("color",this.colorStroke()).text(s[1]),this._textDiv.text(s[0]);var o=this,u=this._mainDiv.selectAll(".more").data(this.moreText()?[this.moreText()]:[]);u.enter().append("div").attr("class","more").on("click",function(e){var t={};t[o.columns()]=o.data(),o.click(t,"more")}).each(function(t){var n=e.select(this);n.append("i"),n.append("span")}),u.attr("style","background-color:"+e.rgb(this.colorFill()).darker(.75)),u.select("i").attr("class","fa "+this.moreIcon()),u.select("span").text(this.moreText()),u.exit().remove()},r.prototype.exit=function(e,n){t.prototype.exit.apply(this,arguments)},r});