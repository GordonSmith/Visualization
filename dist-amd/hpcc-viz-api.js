// Copyright (c) 2013 Justin Palmer

(function(e,t){typeof define=="function"&&define.amd?define("src/api/I1DChart",["../common/Palette"],t):e.api_I1DChart=t(e.common_Palette)})(this,function(e){function t(){}return t.prototype._palette=e.rainbow("default"),t.prototype.click=function(e,t,n){console.log("Click:  "+JSON.stringify(e)+", "+t+", "+n)},t}),function(e,t){typeof define=="function"&&define.amd?define("src/api/I2DChart",["../common/Palette"],t):e.api_I2DChart=t(e.common_Palette)}(this,function(e){function t(){}return t.prototype._palette=e.ordinal("default"),t.prototype.click=function(e,t,n){console.log("Click:  "+JSON.stringify(e)+", "+t+", "+n)},t}),function(e,t){typeof define=="function"&&define.amd?define("src/api/IGraph",[],t):e.api_IGraph=t()}(this,function(){function e(){}return e.prototype.vertex_click=function(e){console.log("Vertex Click: "+e.id())},e.prototype.edge_click=function(e){console.log("Edge Click: "+e.id())},e}),function(e,t){typeof define=="function"&&define.amd?define("src/api/IInput",["../common/Widget"],t):e.api_IInput=t(e.common_Widget)}(this,function(e){function t(){e.call(this)}return t.prototype=Object.create(e.prototype),t.prototype.publish("name","","string","HTML name for the input"),t.prototype.publish("label","","string","Descriptive label"),t.prototype.publish("value","","string","Input Current Value"),t.prototype.publish("validate",null,"string","Input Validation"),t.prototype.isValid=function(){if(this.validate()){var e=new RegExp(this.validate());if(!e.test(this.value()))return!1}return!0},t.prototype.hasValue=function(){if(typeof this.type=="function"){switch(this.type()){case"radio":case"checkbox":if(this.value()&&this.value()!=="false")return!0;break;default:if(this.value())return!0}return!1}return this.value()!==""},t.prototype.blur=function(e){},t.prototype.click=function(e){},t.prototype.change=function(e){},t.prototype.resetValue=function(e){e.value(e._inputElement[0].node().value)},t.prototype.disable=function(e){this._inputElement.forEach(function(t,n){t.attr("disabled",e?"disabled":null)})},t}),function(e,t){typeof define=="function"&&define.amd?define("src/api/INDChart",["../common/Palette"],t):e.api_INDChart=t(e.common_Palette)}(this,function(e){function t(){}return t.prototype._palette=e.ordinal("default"),t.prototype.click=function(e,t,n){console.log("Click:  "+JSON.stringify(e)+", "+t+", "+n)},t}),function(e,t){typeof define=="function"&&define.amd?define("d3-tip",["d3"],t):typeof module=="object"&&module.exports?module.exports=function(e){return e.tip=t(e),e.tip}:e.d3.tip=t(e.d3)}(this,function(e){return function(){function a(e){s=x(e),o=s.createSVGPoint(),document.body.appendChild(i)}function f(){return"n"}function l(){return[0,0]}function c(){return" "}function d(){var e=N();return{top:e.n.y-i.offsetHeight,left:e.n.x-i.offsetWidth/2}}function v(){var e=N();return{top:e.s.y,left:e.s.x-i.offsetWidth/2}}function m(){var e=N();return{top:e.e.y-i.offsetHeight/2,left:e.e.x}}function g(){var e=N();return{top:e.w.y-i.offsetHeight/2,left:e.w.x-i.offsetWidth}}function y(){var e=N();return{top:e.nw.y-i.offsetHeight,left:e.nw.x-i.offsetWidth}}function b(){var e=N();return{top:e.ne.y-i.offsetHeight,left:e.ne.x}}function w(){var e=N();return{top:e.sw.y,left:e.sw.x-i.offsetWidth}}function E(){var e=N();return{top:e.se.y,left:e.e.x}}function S(){var t=e.select(document.createElement("div"));return t.style({position:"absolute",top:0,opacity:0,"pointer-events":"none","box-sizing":"border-box"}),t.node()}function x(e){return e=e.node(),e.tagName.toLowerCase()==="svg"?e:e.ownerSVGElement}function T(){return i===null&&(i=S(),document.body.appendChild(i)),e.select(i)}function N(){var t=u||e.event.target;while("undefined"==typeof t.getScreenCTM&&"undefined"===t.parentNode)t=t.parentNode;var n={},r=t.getScreenCTM(),i=t.getBBox(),s=i.width,a=i.height,f=i.x,l=i.y;return o.x=f,o.y=l,n.nw=o.matrixTransform(r),o.x+=s,n.ne=o.matrixTransform(r),o.y+=a,n.se=o.matrixTransform(r),o.x-=s,n.sw=o.matrixTransform(r),o.y-=a/2,n.w=o.matrixTransform(r),o.x+=s,n.e=o.matrixTransform(r),o.x-=s/2,o.y-=a/2,n.n=o.matrixTransform(r),o.y+=a,n.s=o.matrixTransform(r),n}var t=f,n=l,r=c,i=S(),s=null,o=null,u=null;a.show=function(){var e=Array.prototype.slice.call(arguments);e[e.length-1]instanceof SVGElement&&(u=e.pop());var i=r.apply(this,e),s=n.apply(this,e),o=t.apply(this,e),f=T(),l=p.length,c,d=document.documentElement.scrollTop||document.body.scrollTop,v=document.documentElement.scrollLeft||document.body.scrollLeft;f.html(i).style({opacity:1,"pointer-events":"all"});while(l--)f.classed(p[l],!1);return c=h.get(o).apply(this),f.classed(o,!0).style({top:c.top+s[0]+d+"px",left:c.left+s[1]+v+"px"}),a},a.hide=function(){var e=T();return e.style({opacity:0,"pointer-events":"none"}),a},a.attr=function(t,n){if(arguments.length<2&&typeof t=="string")return T().attr(t);var r=Array.prototype.slice.call(arguments);return e.selection.prototype.attr.apply(T(),r),a},a.style=function(t,n){if(arguments.length<2&&typeof t=="string")return T().style(t);var r=Array.prototype.slice.call(arguments);return e.selection.prototype.style.apply(T(),r),a},a.direction=function(n){return arguments.length?(t=n==null?n:e.functor(n),a):t},a.offset=function(t){return arguments.length?(n=t==null?t:e.functor(t),a):n},a.html=function(t){return arguments.length?(r=t==null?t:e.functor(t),a):r},a.destroy=function(){return i&&(T().remove(),i=null),a};var h=e.map({n:d,s:v,e:m,w:g,nw:y,ne:b,sw:w,se:E}),p=h.keys();return a}}),define("css!src/api/ITooltip",[],function(){}),function(e,t){typeof define=="function"&&define.amd?define("src/api/ITooltip",["d3","d3-tip","../common/Widget","css!./ITooltip"],t):e.api_ITooltip=t(e.d3,e.d3.tip,e.common_Widget)}(this,function(e,t,n,r,i){function s(){n.call(this),this._valueFormatter=e.format(this.tooltipValueFormat());if(this.layerEnter){var t=this.layerEnter;this.layerEnter=function(e,n,r){this.tooltipEnter(n),t.apply(this,arguments)};var r=this.layerUpdate;this.layerUpdate=function(e){r.apply(this,arguments),this.tooltipUpdate()};var i=this.layerExit;this.layerExit=function(e){i.apply(this,arguments),this.tooltipExit()}}else{var s=this.enter;this.enter=function(e,t){this.tooltipEnter(t),s.apply(this,arguments)};var o=this.update;this.update=function(e,t){o.apply(this,arguments),this.tooltipUpdate()};var u=this.exit;this.exit=function(e,t){u.apply(this,arguments),this.tooltipExit()}}}s.prototype=Object.create(n.prototype),s.prototype.publish("tooltipStyle","default","set","Style",["default","none"],{}),s.prototype.publish("tooltipValueFormat",",.2f","string","Value Format",null,{}),s.prototype.publish("tooltipSeriesColor","#EAFFFF","html-color","Series Color",null,{}),s.prototype.publish("tooltipLabelColor","#CCFFFF","html-color","Label Color",null,{}),s.prototype.publish("tooltipValueColor","white","html-color","Value Color",null,{}),s.prototype.publish("tooltipTick",!0,"boolean","Show tooltip tick",null,{}),s.prototype.publish("tooltipOffset",8,"number","Offset from the cursor",null,{}),s.prototype.tooltipEnter=function(e){var n=this;this.tooltip=t().attr("class","d3-tip").offset(function(e){switch(n.tooltip.direction()()){case"e":return[0,n.tooltipOffset()];default:return[-n.tooltipOffset(),0]}}),e.call(this.tooltip)},s.prototype.tooltipUpdate=function(){var e=this.tooltip.attr("class");e=e.split(" notick").join("")+(this.tooltipTick()?"":" notick")+(this.tooltipStyle()==="none"?" hidden":""),this.tooltip.attr("class",e)},s.prototype.tooltipExit=function(){this.tooltip&&this.tooltip.destroy()};var o=s.prototype.tooltipValueFormat;return s.prototype.tooltipValueFormat=function(t){var n=o.apply(this,arguments);return arguments.length&&(this._valueFormatter=e.format(t)),n},s.prototype._tooltipHTML=function(e){return e},s.prototype.tooltipHTML=function(e){return this.tooltip.html(e)},s.prototype.tooltipFormat=function(e){e=e||{},e.label=e.label||"",e.series=e.series||"",e.value instanceof Date?e.value=e.value||"":e.value=this._valueFormatter(e.value)||"";switch(this.tooltipStyle()){case"none":break;default:if(e.series)return"<span style='color:"+this.tooltipSeriesColor()+"'>"+e.series+"</span> / <span style='color:"+this.tooltipLabelColor()+"'>"+e.label+"</span>:  <span style='color:"+this.tooltipValueColor()+"'>"+e.value+"</span>";return"<span style='color:"+this.tooltipLabelColor()+"'>"+e.label+"</span>:  <span style='color:"+this.tooltipValueColor()+"'>"+e.value+"</span>"}},s}),function(e,t){typeof define=="function"&&define.amd?define("src/api/ITree",["../common/Palette"],t):e.api_ITree=t(e.common_Palette)}(this,function(e){function t(){}return t.prototype._palette=e.ordinal("default"),t.prototype.click=function(e){console.log("Click:  "+e.label)},t}),function(e){var t=document,n="appendChild",r="styleSheet",i=t.createElement("style");i.type="text/css",t.getElementsByTagName("head")[0][n](i),i[r]?i[r].cssText=e:i[n](t.createTextNode(e))}('.d3-tip{line-height:1;font-weight:700;padding:12px;background:rgba(0,0,0,.66);color:#fff;border-radius:2px;pointer-events:none!important;z-index:10}.d3-tip.hidden{visibility:hidden}.d3-tip:after{box-sizing:border-box;display:inline;font-size:10px;width:100%;line-height:1;color:rgba(0,0,0,.66);position:absolute;pointer-events:none!important}.d3-tip.n:after{content:"\\25BC";margin:-1px 0 0;top:100%;left:0;text-align:center}.d3-tip.e:after{content:"\\25C0";margin:-4px 0 0;top:50%;left:-8px}.d3-tip.s:after{content:"\\25B2";margin:0 0 1px;top:-8px;left:0;text-align:center}.d3-tip.w:after{content:"\\25B6";margin:-4px 0 0 -1px;top:50%;left:100%}.d3-tip.notick:after{content:""!important}.common_Widget .over{stroke:rgba(0,0,0,.66);opacity:.66}'),define("hpcc-viz-api",function(){});