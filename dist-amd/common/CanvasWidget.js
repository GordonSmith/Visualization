!function(t,e){"function"==typeof define&&define.amd?define(["d3","./Widget"],e):t.common_CanvasWidget=e(t.d3,t.common_Widget)}(this,function(t,e){function i(){e.call(this),this._tag="canvas"}return i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype._class+=" common_CanvasWidget",i.prototype.resize=function(t){var i=e.prototype.resize.apply(this,arguments);return this._parentElement.style("width",this._size.width+"px").style("height",this._size.height+"px"),this._element.attr("width",this._size.width),this._element.attr("height",this._size.height),i},i.prototype.target=function(e){if(!arguments.length)return this._target;if(this._target&&e)throw"Target can only be assigned once.";if(this._target=e,("string"==typeof this._target||this._target instanceof String)&&(this._target=document.getElementById(this._target)),this._target){if(this._parentElement=t.select(this._target),!this._size.width&&!this._size.height){var i=parseFloat(this._parentElement.style("width")),s=parseFloat(this._parentElement.style("height"));this.size({width:i,height:s}),this.resize(this._size)}}else this.exit();return this},i.prototype.exit=function(){this._parentElement&&this._parentElement.remove(),e.prototype.exit.apply(this,arguments)},i});