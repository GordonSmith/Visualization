(function(e,t){typeof define=="function"&&define.amd?define(["./SVGWidget","./Shape","./Text","css!./TextBox"],t):e.TextBox=t(e.SVGWidget,e.Shape,e.Text)})(this,function(e,t,n){function r(){e.call(this),this._class="common_TextBox",this._shape=(new t).shape("rect"),this._text=new n}return r.prototype=Object.create(e.prototype),r.prototype.publishProxy("text","_text"),r.prototype.publishProxy("shape_color_stroke","_shape","color_stroke"),r.prototype.publishProxy("shape_color_fill","_shape","color_fill"),r.prototype.publishProxy("text_color_fill","_text","color_fill"),r.prototype.publish("padding_left",4,"number","Padding:  Left"),r.prototype.publish("padding_right",4,"number","Padding:  Right"),r.prototype.publish("padding_top",4,"number","Padding:  Top"),r.prototype.publish("padding_bottom",4,"number","Padding:  Bottom"),r.prototype.publishProxy("anchor","_text"),r.prototype.publish("fixedSize",null),r.prototype.padding=function(e){return this._padding_left=e,this._padding_right=e,this._padding_top=e,this._padding_bottom=e,this},r.prototype.testData=function(){return this._text.testData(),this},r.prototype.enter=function(t,n){e.prototype.enter.apply(this,arguments),this._shape.target(t).render(),this._text.target(t).render()},r.prototype.update=function(t,n){e.prototype.update.apply(this,arguments),this._text.render();var r=this._text.getBBox(!0),i={width:this._fixedSize?this._fixedSize.width:r.width+this._padding_left+this._padding_right,height:this._fixedSize?this._fixedSize.height:r.height+this._padding_top+this._padding_bottom};this._shape.width(i.width).height(i.height).render();if(this._fixedSize)switch(this.anchor()){case"start":this._text.x(-this._fixedSize.width/2+r.width/2+(this._padding_left+this._padding_right)/2).render();break;case"end":this._text.x(this._fixedSize.width/2-r.width/2-(this._padding_left+this._padding_right)/2).render()}},r});