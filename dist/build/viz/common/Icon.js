(function(e,t){typeof define=="function"&&define.amd?define(["./SVGWidget","./Shape","./FAChar","css!./Icon"],t):e.common_Icon=t(e.common_SVGWidget,e.common_Shape,e.common_FAChar)})(this,function(e,t,n){function r(){e.call(this),this._class="common_Icon",this._shapeWidget=new t,this._faChar=new n}return r.prototype=Object.create(e.prototype),r.prototype.publish("shape","circle","set","Shape Type",["circle","square"]),r.prototype.publishProxy("faChar","_faChar","char"),r.prototype.publishProxy("image_color_fill","_faChar","color_fill"),r.prototype.publish("tooltip","","string","Tooltip"),r.prototype.publish("diameter",24,"number","Diameter"),r.prototype.publish("padding_percent",45,"number","Padding Percent"),r.prototype.publishProxy("shape_color_fill","_shapeWidget","color_fill"),r.prototype.publishProxy("shape_color_stroke","_shapeWidget","color_stroke"),r.prototype.testData=function(){return this._faChar.testData(),this},r.prototype.intersection=function(e,t){return this._shapeWidget.intersection(e,t)},r.prototype.enter=function(t,n){e.prototype.enter.apply(this,arguments),this._shapeWidget.target(t).render(),this._faChar.target(t).render(),this._tooltipElement=n.append("title")},r.prototype.update=function(t,n){e.prototype.update.apply(this,arguments),this._faChar.font_size(this._diameter*(100-this._padding_percent)/100).render(),this._shapeWidget.shape(this._shape).width(this._diameter).height(this._diameter).render(),this._tooltipElement.text(this._tooltip)},r});