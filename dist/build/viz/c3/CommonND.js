(function(e,t){typeof define=="function"&&define.amd?define(["./Common","../chart/INDChart"],t):e.c3_CommonND=t(e.c3_Common,e.chart_INDChart)})(this,function(e,t){function n(n){e.call(this),t.call(this),this._class="c3_CommonND";var r=this;this._config.color={pattern:this._palette.colors()},this._config.data.onclick=function(e,t){r.click(r.rowToObj(r._data[e.index]),e.id)},this._config.data.color=function(e,t){return r._palette(t.id?t.id:t)},this._prevColumns=[]}return n.prototype=Object.create(e.prototype),n.prototype.implements(t.prototype),n.prototype.publish("paletteID","default","set","Palette ID",n.prototype._palette.switch()),n.prototype.publish("xaxis_type","category","set","X-Axis Type",["category","timeseries","indexed"]),n.prototype.publish("subchart",!1,"boolean","Show SubChart"),n.prototype.getDiffC3Columns=function(){return this._prevColumns.filter(function(e){return this._columns.indexOf(e)<0},this)},n.prototype.render=function(){var t=e.prototype.render.apply(this,arguments);return this._prevColumns=this._columns,t},n.prototype.enter=function(t,n){this._subchart&&(this._config.subchart={show:!0,size:{height:20}}),this._config.axis.x={type:this._xaxis_type};switch(this._xaxis_type){case"category":this._config.axis.tick={centered:!0,multiline:!1};break;case"timeseries":this._config.data.x=this._columns[0],this._config.axis.tick={format:"%d %b %Y"}}e.prototype.enter.apply(this,arguments)},n.prototype.update=function(t,n){e.prototype.update.apply(this,arguments),this._palette=this._palette.switch(this._paletteID);switch(this._xaxis_type){case"category":this.c3Chart.load({categories:this.getC3Categories(),columns:this.getC3Columns(),unload:this.getDiffC3Columns()});break;case"indexed":case"timeseries":this.c3Chart.load({columns:this.getC3Columns(),unload:this.getDiffC3Columns()})}},n});