<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>HPCC Systems - Dermatology Test</title>
    <link rel="stylesheet" href="index.css">
    <script src="http://rawgit.com/jrburke/requirejs/2.1.17/require.js"></script>
    <script src="../../src/config.js"></script>
    <script>
        requirejs.config({
            baseUrl: ".."
        });
    </script>
</head>
<body onresize="doResize();">
    <div id="main">
    </div>
    <script>
        var frame;
        require(["d3", "src/layout/Surface", "gsoc/Main"], function (d3, Surface, Main) {
            var main = new Main()
            ;
            frame = new Surface()
                .widget(main)
                .target("main")
                .title("HPCC Systems - Anmol Jagetia")
                .surfacePadding(0)
            ;
            frame.doResize = Surface.prototype.debounce(function () {
                const border = 4;
                d3.select("#main").style({
                    "margin-left": border + "px",
                    "margin-top": border + "px",
                    width: window.innerWidth - 2 * border + "px",
                    height: window.innerHeight - 2 * border + "px"
                });
                this
                    .resize()
                    .render()
                ;
            }, 250);
            frame.doResize();
        });
        function doResize() {
            if (frame) {
                frame.doResize();
            }
        }
    </script>
</body>
</html>
